{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/amaronshop/app/products/page.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Image from 'next/image';\r\nimport { useRouter } from 'next/navigation';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport { ShoppingCart, Eye, X } from 'lucide-react';\r\n\r\n// --- CHANGE 1: Image URLs ko theek kiya gaya ---\r\n// width aur height ko alag se define kiya gaya hai\r\nconst products = [\r\n {\r\n   id: 1,\r\n   name: \"Premium T-Shirt\",\r\n   price: 29.99,\r\n   image: \"/tshirt.jpg\",\r\n   width: 300,\r\n   height: 300,\r\n   description: \"Comfortable cotton t-shirt perfect for everyday wear. Made with high-quality materials.\",\r\n   category: \"t-shirt\",\r\n },\r\n {\r\n   id: 2,\r\n   name: \"Running Shoes\",\r\n   price: 89.99,\r\n   image: \"/shoes.jpg\",\r\n   width: 300,\r\n   height: 300,\r\n   description: \"Lightweight running shoes with excellent cushioning and support for your daily runs.\",\r\n   category: \"shoes\",\r\n },\r\n   {\r\n   id: 3,\r\n   name: \"Casual Lowers\",\r\n   price: 39.99,\r\n   image: \"/lower.webp\",\r\n   width: 300,\r\n   height: 300,\r\n   description: \"Comfortable casual pants perfect for relaxed days. Soft fabric with great fit.\",\r\n   category: \"lowers\",\r\n },\r\n {\r\n   id: 4,\r\n   name: \"Classic Jeans\",\r\n   price: 59.99,\r\n   image: \"/jeans.jpg\",\r\n   width: 300,\r\n   height: 300,\r\n   description: \"Classic denim jeans with perfect fit and durability. A wardrobe essential.\",\r\n   category: \"jeans\",\r\n },\r\n \r\n];\r\n\r\n// --- Helper Functions ---\r\nfunction getUser() {\r\n const token = localStorage.getItem(\"token\");\r\n if (token) {\r\n   try { return jwtDecode(token); } catch {}\r\n }\r\n const userStr = localStorage.getItem(\"user\");\r\n if (userStr) {\r\n   try { return JSON.parse(userStr); } catch {}\r\n }\r\n return null;\r\n}\r\n\r\nconst handleAddToCart = (product, setToastMessage) => {\r\n const user = getUser();\r\n const cartKey = user && (user.id || user.userId || user.email) ? `cart_${user.id || user.userId || user.email}` : \"cart_guest\";\r\n const cart = JSON.parse(localStorage.getItem(cartKey) || \"[]\");\r\n const existingItem = cart.find((item) => item.id === product.id);\r\n \r\n if (existingItem) {\r\n   existingItem.quantity += 1;\r\n } else {\r\n   cart.push({ ...product, quantity: 1 });\r\n }\r\n \r\n localStorage.setItem(cartKey, JSON.stringify(cart));\r\n window.dispatchEvent(new Event(\"storage\")); \r\n \r\n // --- CHANGE 2: alert() ko toast message se replace kiya gaya ---\r\n setToastMessage(`\"${product.name}\" added to cart!`);\r\n};\r\n\r\n// --- UI Components ---\r\n\r\nfunction Toast({ message, onClose }) {\r\n  useEffect(() => {\r\n    const timer = setTimeout(onClose, 3000); // 3 second ke baad toast gayab ho jayega\r\n    return () => clearTimeout(timer);\r\n  }, [onClose]);\r\n\r\n  return (\r\n    <div className=\"fixed bottom-5 right-5 z-50 bg-gray-800 text-white py-3 px-5 rounded-lg shadow-lg animate-fade-in-up\">\r\n      {message}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CustomDialog({ open, onClose, children }) {\r\n if (!open) return null;\r\n return (\r\n   <div onClick={onClose} className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 transition-opacity\">\r\n     <div onClick={(e) => e.stopPropagation()} className=\"relative bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl m-4\">\r\n        {/* --- CHANGE 3: Modal ke liye close button add kiya gaya --- */}\r\n        <button onClick={onClose} className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600\">\r\n          <X size={24} />\r\n        </button>\r\n       {children}\r\n     </div>\r\n   </div>\r\n );\r\n}\r\n\r\nfunction ProductCard({ product, onView, onAddToCart }) {\r\n return (\r\n   <div className=\"group border rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-shadow duration-300 flex flex-col h-full\">\r\n     <div className=\"p-4 flex flex-col h-full\">\r\n       <div className=\"relative overflow-hidden rounded-lg mb-4\">\r\n         <Image\r\n           src={product.image || \"/placeholder.svg\"}\r\n           alt={product.name}\r\n           width={product.width || 300}\r\n           height={product.height || 300}\r\n           className=\"w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300\"\r\n         />\r\n       </div>\r\n       <h3 className=\"text-lg font-semibold mb-2 text-gray-800\">{product.name}</h3>\r\n       <p className=\"text-2xl font-bold text-blue-600 mb-4 mt-auto\">${product.price}</p>\r\n       \r\n       <div className=\"flex space-x-2\">\r\n         <button\r\n           onClick={onView}\r\n           className=\"flex-1 inline-flex items-center justify-center rounded-md text-sm font-medium border border-gray-300 bg-transparent hover:bg-gray-100 h-10 px-4 py-2\"\r\n         >\r\n           <Eye className=\"h-4 w-4 mr-2\" />\r\n           View\r\n         </button>\r\n         \r\n         <button\r\n           onClick={onAddToCart}\r\n           className=\"flex-1 inline-flex items-center justify-center rounded-md text-sm font-medium text-white bg-gray-800 hover:bg-black h-10 px-4 py-2\"\r\n         >\r\n           <ShoppingCart className=\"h-4 w-4 mr-2\" />\r\n           Add\r\n         </button>\r\n       </div>\r\n     </div>\r\n   </div>\r\n );\r\n}\r\n\r\nfunction ProductModal({ product, onClose, onAddToCart }) {\r\n const router = useRouter();\r\n const addToCartAndGo = () => {\r\n   onAddToCart(); // Use the passed function to show toast\r\n   router.push(\"/cart\");\r\n };\r\n\r\n return (\r\n   <CustomDialog open={true} onClose={onClose}>\r\n     <div className=\"mb-4\">\r\n       <h2 className=\"text-2xl font-bold\">{product.name}</h2>\r\n     </div>\r\n     <div className=\"grid md:grid-cols-2 gap-6\">\r\n       <div className=\"relative\">\r\n         <Image\r\n           src={product.image || \"/placeholder.svg\"}\r\n           alt={product.name}\r\n           width={400}\r\n           height={400}\r\n           className=\"w-full h-80 object-cover rounded-lg\"\r\n         />\r\n       </div>\r\n       <div className=\"flex flex-col space-y-4\">\r\n         <p className=\"text-3xl font-bold text-blue-600\">${product.price}</p>\r\n         <p className=\"text-gray-600 leading-relaxed\">{product.description}</p>\r\n         <div className=\"space-y-2\">\r\n           <p className=\"text-sm text-gray-500\">\r\n             <span className=\"font-semibold\">Category:</span> {product.category}\r\n           </p>\r\n           <p className=\"text-sm text-gray-500\">\r\n             <span className=\"font-semibold\">Product ID:</span> #{product.id}\r\n           </p>\r\n         </div>\r\n         <button\r\n           onClick={addToCartAndGo}\r\n           className=\"w-full mt-auto inline-flex items-center justify-center rounded-md text-lg font-semibold bg-blue-600 text-white hover:bg-black h-12 px-8\"\r\n         >\r\n           <ShoppingCart className=\"h-5 w-5 mr-2\" />\r\n           Add and Go to Cart\r\n         </button>\r\n       </div>\r\n     </div>\r\n   </CustomDialog>\r\n );\r\n}\r\n\r\n// --- Main Component (Default Export) ---\r\nexport default function ProductGrid() {\r\n const [selectedProduct, setSelectedProduct] = useState(null);\r\n const [toastMessage, setToastMessage] = useState(\"\");\r\n\r\n return (\r\n   <section className=\"py-16 px-4\">\r\n     <div className=\"container mx-auto\">\r\n       <h2 className=\"text-3xl font-bold text-center mb-12 text-gray-800\">Featured Products</h2>\r\n       <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8\">\r\n         {products.map((product) => (\r\n           <ProductCard \r\n            key={product.id} \r\n            product={product} \r\n            onView={() => setSelectedProduct(product)} \r\n            onAddToCart={() => handleAddToCart(product, setToastMessage)}\r\n            />\r\n         ))}\r\n       </div>\r\n     </div>\r\n     {selectedProduct && (\r\n      <ProductModal \r\n        product={selectedProduct} \r\n        onClose={() => setSelectedProduct(null)}\r\n        onAddToCart={() => handleAddToCart(selectedProduct, setToastMessage)}\r\n      />\r\n      )}\r\n     {toastMessage && <Toast message={toastMessage} onClose={() => setToastMessage(\"\")} />}\r\n   </section>\r\n );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}