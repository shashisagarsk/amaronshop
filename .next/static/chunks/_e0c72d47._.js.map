{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/2025%20Project/amaron/app/cart/page.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport Link from 'next/link'\r\nimport { ShoppingCart } from 'lucide-react'\r\nimport { jwtDecode } from 'jwt-decode'\r\n\r\n// ये हेल्पर फंक्शन हमें सही कार्ट की key देंगे\r\nconst getUser = () => {\r\n  const token = localStorage.getItem(\"token\")\r\n  if (token) {\r\n    try { return jwtDecode(token) } catch {}\r\n  }\r\n  const userStr = localStorage.getItem(\"user\")\r\n  if (userStr) {\r\n    try { return JSON.parse(userStr) } catch {}\r\n  }\r\n  return null\r\n}\r\n\r\nconst getCartKey = (user) => {\r\n  if (user && (user.id || user.userId)) return `cart_${user.id || user.userId}`\r\n  if (user && user.email) return `cart_${user.email}`\r\n  return \"cart_guest\"\r\n}\r\n\r\nexport default function Header() {\r\n  const [cartCount, setCartCount] = useState(0)\r\n\r\n  useEffect(() => {\r\n    // कार्ट की संख्या लोड करने के लिए फंक्शन\r\n    const updateCartCount = () => {\r\n      const user = getUser()\r\n      const cartKey = getCartKey(user)\r\n      const cart = JSON.parse(localStorage.getItem(cartKey) || '[]')\r\n      // हम कुल आइटम्स की संख्या गिन रहे हैं, न कि सिर्फ प्रकारों की\r\n      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0)\r\n      setCartCount(totalItems)\r\n    }\r\n\r\n    // कंपोनेंट लोड होते ही कार्ट की संख्या अपडेट करें\r\n    updateCartCount()\r\n\r\n    // जब भी localStorage में कोई बदलाव हो (जैसे दूसरे टैब से), तो कार्ट की संख्या अपडेट करें\r\n    window.addEventListener('storage', updateCartCount)\r\n    // जब यूजर लॉगआउट करे, तब भी कार्ट की संख्या अपडेट करें\r\n    window.addEventListener('logout', updateCartCount)\r\n\r\n    // कंपोनेंट हटने पर इवेंट लिस्नर को साफ करें\r\n    return () => {\r\n      window.removeEventListener('storage', updateCartCount)\r\n      window.removeEventListener('logout', updateCartCount)\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <header className=\"bg-white shadow-sm sticky top-0 z-40\">\r\n      <nav className=\"container mx-auto px-4 py-3 flex justify-between items-center\">\r\n        <Link href=\"/\" className=\"text-2xl font-bold text-blue-600\">\r\n          AmronShop\r\n        </Link>\r\n        \r\n        <div className=\"flex items-center space-x-4\">\r\n          {/* दूसरे लिंक्स यहाँ आ सकते हैं, जैसे लॉगइन/लॉगआउट */}\r\n          \r\n          <Link href=\"/cart\" className=\"relative p-2\">\r\n            <ShoppingCart className=\"h-6 w-6 text-gray-700\" />\r\n            {cartCount > 0 && (\r\n              <span className=\"absolute top-0 right-0 flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full\">\r\n                {cartCount}\r\n              </span>\r\n            )}\r\n          </Link>\r\n        </div>\r\n      </nav>\r\n    </header>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOA,+CAA+C;AAC/C,MAAM,UAAU;IACd,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,IAAI;YAAE,OAAO,IAAA,sKAAS,EAAC;QAAO,EAAE,UAAM,CAAC;IACzC;IACA,MAAM,UAAU,aAAa,OAAO,CAAC;IACrC,IAAI,SAAS;QACX,IAAI;YAAE,OAAO,KAAK,KAAK,CAAC;QAAS,EAAE,UAAM,CAAC;IAC5C;IACA,OAAO;AACT;AAEA,MAAM,aAAa,CAAC;IAClB,IAAI,QAAQ,CAAC,KAAK,EAAE,IAAI,KAAK,MAAM,GAAG,OAAO,AAAC,QAA8B,OAAvB,KAAK,EAAE,IAAI,KAAK,MAAM;IAC3E,IAAI,QAAQ,KAAK,KAAK,EAAE,OAAO,AAAC,QAAkB,OAAX,KAAK,KAAK;IACjD,OAAO;AACT;AAEe,SAAS;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,IAAA,0KAAS;4BAAC;YACR,yCAAyC;YACzC,MAAM;oDAAkB;oBACtB,MAAM,OAAO;oBACb,MAAM,UAAU,WAAW;oBAC3B,MAAM,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,YAAY;oBACzD,8DAA8D;oBAC9D,MAAM,aAAa,KAAK,MAAM;uEAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ;sEAAE;oBACnE,aAAa;gBACf;;YAEA,kDAAkD;YAClD;YAEA,yFAAyF;YACzF,OAAO,gBAAgB,CAAC,WAAW;YACnC,uDAAuD;YACvD,OAAO,gBAAgB,CAAC,UAAU;YAElC,4CAA4C;YAC5C;oCAAO;oBACL,OAAO,mBAAmB,CAAC,WAAW;oBACtC,OAAO,mBAAmB,CAAC,UAAU;gBACvC;;QACF;2BAAG,EAAE;IAEL,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,0KAAI;oBAAC,MAAK;oBAAI,WAAU;8BAAmC;;;;;;8BAI5D,6LAAC;oBAAI,WAAU;8BAGb,cAAA,6LAAC,0KAAI;wBAAC,MAAK;wBAAQ,WAAU;;0CAC3B,6LAAC,yOAAY;gCAAC,WAAU;;;;;;4BACvB,YAAY,mBACX,6LAAC;gCAAK,WAAU;0CACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjB;GAnDwB;KAAA","debugId":null}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///D:/2025%20Project/amaron/node_modules/jwt-decode/build/esm/index.js"],"sourcesContent":["export class InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (m, p) => {\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    }\n    catch (err) {\n        return atob(output);\n    }\n}\nexport function jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    }\n    catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n}\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,0BAA0B;AACvC;AACA,kBAAkB,SAAS,CAAC,IAAI,GAAG;AACnC,SAAS,iBAAiB,GAAG;IACzB,OAAO,mBAAmB,KAAK,KAAK,OAAO,CAAC,QAAQ,CAAC,GAAG;QACpD,IAAI,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,IAAI,WAAW;QACnD,IAAI,KAAK,MAAM,GAAG,GAAG;YACjB,OAAO,MAAM;QACjB;QACA,OAAO,MAAM;IACjB;AACJ;AACA,SAAS,gBAAgB,GAAG;IACxB,IAAI,SAAS,IAAI,OAAO,CAAC,MAAM,KAAK,OAAO,CAAC,MAAM;IAClD,OAAQ,OAAO,MAAM,GAAG;QACpB,KAAK;YACD;QACJ,KAAK;YACD,UAAU;YACV;QACJ,KAAK;YACD,UAAU;YACV;QACJ;YACI,MAAM,IAAI,MAAM;IACxB;IACA,IAAI;QACA,OAAO,iBAAiB;IAC5B,EACA,OAAO,KAAK;QACR,OAAO,KAAK;IAChB;AACJ;AACO,SAAS,UAAU,KAAK,EAAE,OAAO;IACpC,IAAI,OAAO,UAAU,UAAU;QAC3B,MAAM,IAAI,kBAAkB;IAChC;IACA,WAAW,CAAC,UAAU,CAAC,CAAC;IACxB,MAAM,MAAM,QAAQ,MAAM,KAAK,OAAO,IAAI;IAC1C,MAAM,OAAO,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI;IAClC,IAAI,OAAO,SAAS,UAAU;QAC1B,MAAM,IAAI,kBAAkB,AAAC,0CAAiD,OAAR,MAAM;IAChF;IACA,IAAI;IACJ,IAAI;QACA,UAAU,gBAAgB;IAC9B,EACA,OAAO,GAAG;QACN,MAAM,IAAI,kBAAkB,AAAC,qDAAgE,OAAZ,MAAM,GAAE,MAAc,OAAV,EAAE,OAAO,EAAC;IAC3G;IACA,IAAI;QACA,OAAO,KAAK,KAAK,CAAC;IACtB,EACA,OAAO,GAAG;QACN,MAAM,IAAI,kBAAkB,AAAC,mDAA8D,OAAZ,MAAM,GAAE,MAAc,OAAV,EAAE,OAAO,EAAC;IACzG;AACJ","ignoreList":[0],"debugId":null}}]
}